CREATE TABLE ALUMNO (APELLIDO1 VARCHAR(255) NOT NULL, APELLIDO2 VARCHAR(255), CURSO VARCHAR(255), DNI VARCHAR(255), GRADO VARCHAR(255), PREF_CUATRIMESTRE INTEGER, PRIMARY KEY (APELLIDO1))
CREATE TABLE INSCRIPCION (ID BIGINT NOT NULL, ESTADO SMALLINT DEFAULT 0, FECHA DATE, PRIMARY KEY (ID))
CREATE TABLE ASIGNATURA (ID BIGINT NOT NULL, CURSO INTEGER, GRADO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE PDI (APELLIDO1 VARCHAR(255) NOT NULL, APELLIDO2 VARCHAR(255), DEPARATMENTO VARCHAR(255), DESPACHO INTEGER, DNI VARCHAR(255), ROL_GESTOR SMALLINT DEFAULT 0, TITULACION VARCHAR(255), PRIMARY KEY (APELLIDO1))
CREATE TABLE ACTIVIDAD (ID BIGINT NOT NULL, ZONA VARCHAR(255), ESTADO SMALLINT DEFAULT 0, FECHA DATE, HORARIO VARCHAR(255), MOTIVO VARCHAR(255), NOMBRE VARCHAR(255), REQUISITOS VARCHAR(255), TIPO INTEGER, PRIMARY KEY (ID))
CREATE TABLE PAS (APELLIDO1 VARCHAR(255) NOT NULL, APELLIDO2 VARCHAR(255), DNI VARCHAR(255), PUESTO VARCHAR(255), PRIMARY KEY (APELLIDO1))
CREATE TABLE ONG (UBICACION VARCHAR(255) NOT NULL, WEB VARCHAR(255), PRIMARY KEY (UBICACION))
CREATE TABLE PROYECTO (ID BIGINT NOT NULL, ESTADO SMALLINT DEFAULT 0, FECHA DATE, NOMBRE VARCHAR(255), REQUISITOS VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE INFORME (ID BIGINT NOT NULL, COMENTARIOS VARCHAR(255), FECHA DATE, REPORTADO SMALLINT DEFAULT 0, PRIMARY KEY (ID))
CREATE TABLE matricula_asig_alum (alumno_fk VARCHAR(255) NOT NULL, asignatura_fk BIGINT NOT NULL, PRIMARY KEY (alumno_fk, asignatura_fk))
CREATE TABLE INSCRIPCION_INFORME (Inscripcion_ID BIGINT NOT NULL, contiene_ID BIGINT NOT NULL, PRIMARY KEY (Inscripcion_ID, contiene_ID))
CREATE TABLE matricula_asig_pdi (asignatura_fk BIGINT NOT NULL, pdi_fk VARCHAR(255) NOT NULL, PRIMARY KEY (asignatura_fk, pdi_fk))
CREATE TABLE ASIGNATURA_ACTIVIDAD (Asignatura_ID BIGINT NOT NULL, trabaja_en_ID BIGINT NOT NULL, PRIMARY KEY (Asignatura_ID, trabaja_en_ID))
CREATE TABLE ACTIVIDAD_INSCRIPCION (Actividad_ID BIGINT NOT NULL, inscripciones_ID BIGINT NOT NULL, PRIMARY KEY (Actividad_ID, inscripciones_ID))
CREATE TABLE ONG_INSCRIPCION (ONG_UBICACION VARCHAR(255) NOT NULL, se_encarga_de_ID BIGINT NOT NULL, PRIMARY KEY (ONG_UBICACION, se_encarga_de_ID))
CREATE TABLE PROYECTO_ACTIVIDAD (Proyecto_ID BIGINT NOT NULL, conformado_por_ID BIGINT NOT NULL, PRIMARY KEY (Proyecto_ID, conformado_por_ID))
ALTER TABLE matricula_asig_alum ADD CONSTRAINT mtrclasigalumlmnfk FOREIGN KEY (alumno_fk) REFERENCES ALUMNO (APELLIDO1)
ALTER TABLE matricula_asig_alum ADD CONSTRAINT mtrclsgalumsgntrfk FOREIGN KEY (asignatura_fk) REFERENCES ASIGNATURA (ID)
ALTER TABLE INSCRIPCION_INFORME ADD CONSTRAINT NSCRPCNNFORMEcntnD FOREIGN KEY (contiene_ID) REFERENCES INFORME (ID)
ALTER TABLE INSCRIPCION_INFORME ADD CONSTRAINT NSCRPCNNFRnscrpcnD FOREIGN KEY (Inscripcion_ID) REFERENCES INSCRIPCION (ID)
ALTER TABLE matricula_asig_pdi ADD CONSTRAINT mtrclsigpdisgntrfk FOREIGN KEY (asignatura_fk) REFERENCES ASIGNATURA (ID)
ALTER TABLE matricula_asig_pdi ADD CONSTRAINT mtrculaasigpdipdfk FOREIGN KEY (pdi_fk) REFERENCES PDI (APELLIDO1)
ALTER TABLE ASIGNATURA_ACTIVIDAD ADD CONSTRAINT SGNTRCTVIDADtrbjnD FOREIGN KEY (trabaja_en_ID) REFERENCES ACTIVIDAD (ID)
ALTER TABLE ASIGNATURA_ACTIVIDAD ADD CONSTRAINT SGNTRCTVIDADsgntrD FOREIGN KEY (Asignatura_ID) REFERENCES ASIGNATURA (ID)
ALTER TABLE ACTIVIDAD_INSCRIPCION ADD CONSTRAINT CTVDDNSCRnscrpcnsD FOREIGN KEY (inscripciones_ID) REFERENCES INSCRIPCION (ID)
ALTER TABLE ACTIVIDAD_INSCRIPCION ADD CONSTRAINT CTVDDNSCRPCNctvddD FOREIGN KEY (Actividad_ID) REFERENCES ACTIVIDAD (ID)
ALTER TABLE ONG_INSCRIPCION ADD CONSTRAINT NGNSCRPCIONNGBCCON FOREIGN KEY (ONG_UBICACION) REFERENCES ONG (UBICACION)
ALTER TABLE ONG_INSCRIPCION ADD CONSTRAINT NGNSCRPCONsncrgdID FOREIGN KEY (se_encarga_de_ID) REFERENCES INSCRIPCION (ID)
ALTER TABLE PROYECTO_ACTIVIDAD ADD CONSTRAINT PRYCTCTVIDADPryctD FOREIGN KEY (Proyecto_ID) REFERENCES PROYECTO (ID)
ALTER TABLE PROYECTO_ACTIVIDAD ADD CONSTRAINT PRYCTCTVDcnfrmdprD FOREIGN KEY (conformado_por_ID) REFERENCES ACTIVIDAD (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
